readRDS(bank.rds)
readRDS("bank.rds")
dados <- readRDS("bank.rds")
summary(dados)
unique(dados$emprego)
factor(dados$emprego)
dados$emprego <- factor(dados$emprego)
View(dados)
View(dados)
summary(dados)
knitr::opts_chunk$set(echo = TRUE)
unique(estado_civil)
dados %>% unique(estado_civil)
library(tidyverse)
dados %>% unique(estado_civil)
unique(dados$estado_civil)
dados = dados %>%
factor(estado_civil)
DADOS
unique(dados$hipoteca)
dados = read_csv2("bank.csv")
ctxta = unique(dados$emp.var.rate)
ctxtb = unique(dados$cons.price.idx)
ctxtc = unique(dados$cons.conf.idx)
ctxtd = unique(dados$euribor3m)
ctxte = unique(dados$nr.employed)
my_list <- list(a = ctxta,
b = ctxtb,
c = ctxtc,
d = ctxtd,
e = ctxte)
rm(ctxta, ctxtb, ctxc, ctxtd, ctxte)
rm(ctxta, ctxtb, ctxtc, ctxtd, ctxte)
dados = dados %>% select(idade = age,
emprego = job,
estado_civil = marital,
escolaridade = education,
hipoteca = housing,
emprestimo = loan,
meio_contato = contact,
mes = month,
dia_semana = day_of_week,
duracao = duration,
n_contato = campaign,
ultimo_contato = pdays,
n_contato_ultima_campanha = previous,
sucesso_ultima_campanha = poutcome,
sucesso_campanha_atual = y)
saveRDS(dados, file = "bank.rds")
dados = readRDS("bank.rds")
dados$emprego = factor(dados$emprego)
#dados$idade = factor(dados$idade)
dados$estado_civil = factor(dados$estado_civil)
dados$escolaridade = factor(dados$escolaridade)
dados$mes = factor(dados$mes)
dados$dia_semana = factor(dados$dia_semana)
dados$hipoteca = factor(dados$hipoteca)
dados$emprestimo = factor(dados$emprestimo)
dados$meio_contato = factor(dados$meio_contato)
dados$sucesso_campanha_atual = factor(dados$sucesso_campanha_atual)
dados$sucesso_ultima_campanha = factor(dados$sucesso_ultima_campanha)
summary(dados)
factor(dados$idade, levels = c(17, 32, 48, 63, 78, 98))
cut(dados$idade, breaks = c(17, 32, 47, 62, 77, 98))
dados$idade = cut(dados$idade, breaks = c(17, 32, 47, 62, 77, 98))
View(dados)
dados = read_csv2("bank.csv")
ctxta = unique(dados$emp.var.rate)
ctxtb = unique(dados$cons.price.idx)
ctxtc = unique(dados$cons.conf.idx)
ctxtd = unique(dados$euribor3m)
ctxte = unique(dados$nr.employed)
my_list <- list(a = ctxta,
b = ctxtb,
c = ctxtc,
d = ctxtd,
e = ctxte)
dados = dados %>% select(idade = age,
emprego = job,
estado_civil = marital,
escolaridade = education,
hipoteca = housing,
emprestimo = loan,
meio_contato = contact,
mes = month,
dia_semana = day_of_week,
duracao = duration,
n_contato = campaign,
ultimo_contato = pdays,
n_contato_ultima_campanha = previous,
sucesso_ultima_campanha = poutcome,
sucesso_campanha_atual = y)
saveRDS(dados, file = "bank.rds")
dados = readRDS("bank.rds")
dados$emprego = factor(dados$emprego)
dados$idade = cut(dados$idade, breaks = c(32, 47, 62, 77, 98))
dados$estado_civil = factor(dados$estado_civil)
dados$escolaridade = factor(dados$escolaridade)
dados$mes = factor(dados$mes)
dados$dia_semana = factor(dados$dia_semana)
dados$hipoteca = factor(dados$hipoteca)
dados$emprestimo = factor(dados$emprestimo)
dados$meio_contato = factor(dados$meio_contato)
dados$sucesso_campanha_atual = factor(dados$sucesso_campanha_atual)
dados$sucesso_ultima_campanha = factor(dados$sucesso_ultima_campanha)
summary(dados$idade)
#FAIXAS ETPARIAS
dados$idade = cut(dados$idade, breaks = c(17, 32, 47, 62, 77, 98))
dados = read_csv2("bank.csv")
dados = dados %>% select(idade = age,
emprego = job,
estado_civil = marital,
escolaridade = education,
hipoteca = housing,
emprestimo = loan,
meio_contato = contact,
mes = month,
dia_semana = day_of_week,
duracao = duration,
n_contato = campaign,
ultimo_contato = pdays,
n_contato_ultima_campanha = previous,
sucesso_ultima_campanha = poutcome,
sucesso_campanha_atual = y)
#FAIXAS ETPARIAS
dados$idade = cut(dados$idade, breaks = c(17, 32, 47, 62, 77, 98))
summary(dados$idade)
#FAIXAS ETPARIAS
dados$idade = cut(dados$idade, breaks = c(17, 33, 48, 63, 78, 98))
dados = read_csv2("bank.csv")
dados = dados %>% select(idade = age,
emprego = job,
estado_civil = marital,
escolaridade = education,
hipoteca = housing,
emprestimo = loan,
meio_contato = contact,
mes = month,
dia_semana = day_of_week,
duracao = duration,
n_contato = campaign,
ultimo_contato = pdays,
n_contato_ultima_campanha = previous,
sucesso_ultima_campanha = poutcome,
sucesso_campanha_atual = y)
#FAIXAS ETPARIAS
cut(dados$idade, breaks = c(17, 33, 48, 63, 78, 98))
dados$idade =
#FAIXAS ETPARIAS
dados$idade = cut(dados$idade, breaks = c(17, 33, 48, 63, 78, 98))
summary(dados$idade)
dados = read_csv2("bank.csv")
dados = dados %>% select(idade = age,
emprego = job,
estado_civil = marital,
escolaridade = education,
hipoteca = housing,
emprestimo = loan,
meio_contato = contact,
mes = month,
dia_semana = day_of_week,
duracao = duration,
n_contato = campaign,
ultimo_contato = pdays,
n_contato_ultima_campanha = previous,
sucesso_ultima_campanha = poutcome,
sucesso_campanha_atual = y)
#FAIXAS ETPARIAS
dados$idade = cut(dados$idade, breaks = c(17, 32, 48, 63, 78, 98))
summary(dados$idade)
dados = read_csv2("bank.csv")
dados = dados %>% select(idade = age,
emprego = job,
estado_civil = marital,
escolaridade = education,
hipoteca = housing,
emprestimo = loan,
meio_contato = contact,
mes = month,
dia_semana = day_of_week,
duracao = duration,
n_contato = campaign,
ultimo_contato = pdays,
n_contato_ultima_campanha = previous,
sucesso_ultima_campanha = poutcome,
sucesso_campanha_atual = y)
#FAIXAS ETPARIAS
dados$idade = cut(dados$idade, breaks = c(17, 32, 48, 64, 79, 98))
summary(dados$idade)
knitr::opts_chunk$set(echo = TRUE)
dados = read_csv2("bank.csv")
summary(dados$default)
summary(factor(dados$default))
knitr::opts_chunk$set(echo = TRUE)
dados = read_csv2("bank.csv")
# SELECIONANDO VARIÁVEIS RELEVANTES
dados = dados %>% select(idade = age,
emprego = job,
estado_civil = marital,
escolaridade = education,
hipoteca = housing,
emprestimo = loan,
meio_contato = contact,
mes = month,
dia_semana = day_of_week,
duracao = duration,
n_contato = campaign,
ultimo_contato = pdays,
n_contato_ultima_campanha = previous,
sucesso_ultima_campanha = poutcome,
sucesso_campanha_atual = y)
# FATORIZANDO VARIÁVEIS CATEGORICAS
dados$estado_civil = factor(dados$estado_civil)
dados$escolaridade = factor(dados$escolaridade)
dados$mes = factor(dados$mes)
dados$dia_semana = factor(dados$dia_semana)
dados$hipoteca = factor(dados$hipoteca)
dados$emprestimo = factor(dados$emprestimo)
dados$meio_contato = factor(dados$meio_contato)
dados$sucesso_campanha_atual = factor(dados$sucesso_campanha_atual)
dados$sucesso_ultima_campanha = factor(dados$sucesso_ultima_campanha)
dados$emprego = factor(dados$emprego)
#FAIXAS ETARIAS
dados$idade = cut(dados$idade, breaks = c(17, 32, 48, 64, 79, 98))
#CONVERSÃO MÉTRICA DA DURAÇÃO DE CHAMADA
dados = dados %>% mutate(duracao_minutos = duracao/60)
# TABELA LIMPA
saveRDS(dados, file = "bank.rds")
dados = readRDS("bank.rds")
rm(my_list)
summary(dados$hipoteca)
summary(dados$emprestimo)
summary(dados$estado_civil)
dados %>% filter(sucesso_campanha_atual == "yes")
dados %>% filter(sucesso_campanha_atual == "yes") %>% group_by(dia_semana) %>% summarise (count = n())
dados %>% filter(sucesso_campanha_atual == "yes") %>% group_by(dia_semana) %>% summarise (porcentagem = n() / sum(n()))
dados %>% filter(sucesso_campanha_atual == "yes") %>% group_by(dia_semana) %>% summarise (porcentagem = n() / sum(dia_semana))
dados %>% filter(sucesso_campanha_atual == "yes") %>% group_by(dia_semana) %>% summarise (count = n()) %>% mutate(freq = count / sum (count))
